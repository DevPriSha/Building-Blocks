<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>BUILDING BLOCKS</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='gamepage.css') }}">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>

	<div class="height" id="ht">
		
	</div>

	<div class="smallbutton" id="small">
		<input type="submit" name="buttonsmall" id="easyquestion" value="SMALL">
		<!-- SMALL -->
	</div>
	<div class="mediumbutton" id="medium">
		<input type="submit" name="buttonmedium" id="mediumquestion" value="MEDIUM">
		<!-- MEDIUM -->
	</div>
	<div class="largebutton" id="large">
		<input type="submit" name="buttonlarge" id="difficultquestion" value="LARGE">
		<!-- LARGE -->
	</div>
	<div class="endbutton" id="end">
		<input type="submit" name="buttonend" id="game_end" value="END GAME">
		<!-- END GAME -->
	</div></a>

</body>
<script>
	var rank = 0;
	var height = 0;
	var check = 0;

	function ScrapeScore(){
		$.get("/scrapeScore").done(function(data){
			check = data;
		});
	}

	function assignques(level)
	{
		var questiongiven = "";
		$.get("/assignques/", {difficulty: level}).done(function(data){
			questiongiven = data;
			window.open(data, "_blank");
		});
		$.get("/scrapeScore").done(function(data){
			rank = data;
		});
		var timer = setInterval(ScrapeScore(), 15000);
		if(check!=rank)
		{
			clearInterval(timer);
		}
		$.get("/quescheck", {quesAssigned: questiongiven, difficulty: level}).done(function(data){
				if(data!="Quesno"){
					height = int(data)
					console.log(height)
					//build block on wall of level height
				}
		});
	}

	$('#easyquestion').click(function(){
		assignques(1);
	});
	$('#mediumquestion').click(function(){
		assignques(3);
	});
	$('#difficultquestion').click(function(){
		assignques(5);
	});
	$('#game_end').click(function(){
		$.get("/thankyou").done(function(data){
			window.location = "/thankyou";
		});
	});
</script>
</html>
